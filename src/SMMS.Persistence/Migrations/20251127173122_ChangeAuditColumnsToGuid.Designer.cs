// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using SMMS.Persistence.Data;

#nullable disable

namespace SMMS.Persistence.Migrations
{
    [DbContext(typeof(EduMealContext))]
    [Migration("20251127173122_ChangeAuditColumnsToGuid")]
    partial class ChangeAuditColumnsToGuid
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.20")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("FoodInFridgeIngredient", b =>
                {
                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<long>("SampleId")
                        .HasColumnType("bigint");

                    b.HasKey("IngredientId", "SampleId");

                    b.ToTable("FoodInFridgeIngredient");
                });

            modelBuilder.Entity("IngredientInFridge", b =>
                {
                    b.Property<long>("SampleId")
                        .HasColumnType("bigint");

                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.HasKey("SampleId", "IngredientId")
                        .HasName("PK__Ingredie__3073074FAA273DE7");

                    b.HasIndex("IngredientId");

                    b.ToTable("IngredientInFridge", "fridge");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.Logs.AuditLog", b =>
                {
                    b.Property<long>("LogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("LogId"));

                    b.Property<string>("ActionDesc")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ActionType")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("AttributeNamne")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("NewData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OldData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RecordId")
                        .HasMaxLength(64)
                        .HasColumnType("nvarchar(64)");

                    b.Property<string>("TableName")
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("LogId")
                        .HasName("PK__AuditLog__5E548648889DF138");

                    b.HasIndex("UserId");

                    b.ToTable("AuditLogs", "logs");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.ExternalProvider", b =>
                {
                    b.Property<short>("ProviderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("smallint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<short>("ProviderId"));

                    b.Property<string>("KeyId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProviderName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("ProviderId")
                        .HasName("PK__External__B54C687DB3EC3D2C");

                    b.HasIndex(new[] { "ProviderName" }, "UQ__External__7D057CE505536EA9")
                        .IsUnique();

                    b.ToTable("ExternalProviders", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.LoginAttempt", b =>
                {
                    b.Property<long>("AttemptId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("AttemptId"));

                    b.Property<DateTime>("AttemptAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)");

                    b.Property<bool>("Succeeded")
                        .HasColumnType("bit");

                    b.Property<Guid?>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("UserName")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.HasKey("AttemptId")
                        .HasName("PK__LoginAtt__891A68E6084CCE3A");

                    b.ToTable("LoginAttempts", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.RefreshToken", b =>
                {
                    b.Property<long>("RefreshTokenId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("RefreshTokenId"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("CreatedByIp")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<long?>("ReplacedById")
                        .HasColumnType("bigint");

                    b.Property<DateTime?>("RevokedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevokedByIp")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("nvarchar(250)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("RefreshTokenId")
                        .HasName("PK__RefreshT__F5845E39CBA3E9EC");

                    b.HasIndex("ReplacedById");

                    b.HasIndex("UserId");

                    b.HasIndex(new[] { "Token" }, "UQ__RefreshT__1EB4F817E3CAB654")
                        .IsUnique();

                    b.ToTable("RefreshTokens", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.Role", b =>
                {
                    b.Property<int>("RoleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RoleId"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("RoleDesc")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("RoleName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("RoleId")
                        .HasName("PK__Roles__8AFACE1A019B869A");

                    b.HasIndex(new[] { "RoleName" }, "UQ__Roles__8A2B616026863920")
                        .IsUnique();

                    b.ToTable("Roles", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.User", b =>
                {
                    b.Property<Guid>("UserId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<int>("AccessFailedCount")
                        .HasColumnType("int");

                    b.Property<string>("AvatarUrl")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateOnly?>("DateOfBirth")
                        .HasColumnType("date");

                    b.Property<string>("Email")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("EmergencyPhone")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<bool>("Gender")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("IdentityNo")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("LanguagePref")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("vi");

                    b.Property<bool>("LockoutEnabled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LockoutEndAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("Phone")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int>("RoleId")
                        .HasColumnType("int");

                    b.Property<Guid?>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("UserId")
                        .HasName("PK__Users__1788CC4CD5D84C8B");

                    b.HasIndex("RoleId");

                    b.HasIndex("SchoolId");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex(new[] { "Phone" }, "UQ_Users_Phone")
                        .IsUnique();

                    b.ToTable("Users", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.UserExternalLogin", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<short>("ProviderId")
                        .HasColumnType("smallint");

                    b.Property<string>("ProviderSub")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("Email")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.HasKey("UserId", "ProviderId", "ProviderSub")
                        .HasName("PK__UserExte__923A62779BE7041C");

                    b.HasIndex("ProviderId");

                    b.ToTable("UserExternalLogins", "auth");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Invoice", b =>
                {
                    b.Property<long>("InvoiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("InvoiceId"));

                    b.Property<int>("AbsentDay")
                        .HasColumnType("int");

                    b.Property<DateOnly>("DateFrom")
                        .HasColumnType("date");

                    b.Property<DateOnly>("DateTo")
                        .HasColumnType("date");

                    b.Property<short>("MonthNo")
                        .HasColumnType("smallint");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("InvoiceId")
                        .HasName("PK__Invoices__D796AAB52E5E911D");

                    b.HasIndex("StudentId");

                    b.ToTable("Invoices", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Notification", b =>
                {
                    b.Property<long>("NotificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("NotificationId"));

                    b.Property<string>("AttachmentUrl")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("ScheduleCron")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("SendType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<Guid?>("SenderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.HasKey("NotificationId")
                        .HasName("PK__notifica__20CF2E12D160E539");

                    b.HasIndex("SenderId");

                    b.ToTable("notifications", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.NotificationRecipient", b =>
                {
                    b.Property<long>("NotificationId")
                        .HasColumnType("bigint");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsRead")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ReadAt")
                        .HasColumnType("datetime2");

                    b.HasKey("NotificationId", "UserId")
                        .HasName("PK__Notifica__F1B7A2D6B3FF2628");

                    b.HasIndex("UserId");

                    b.ToTable("NotificationRecipients", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Payment", b =>
                {
                    b.Property<long>("PaymentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("PaymentId"));

                    b.Property<decimal>("ExpectedAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(18, 2)")
                        .HasDefaultValue(600m);

                    b.Property<long>("InvoiceId")
                        .HasColumnType("bigint");

                    b.Property<string>("Method")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<DateTime>("PaidAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("PaymentContent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("PaymentStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("pending");

                    b.Property<string>("ReferenceNo")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("PaymentId")
                        .HasName("PK__Payments__9B556A38D0267A58");

                    b.HasIndex("InvoiceId");

                    b.ToTable("Payments", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.SchoolPaymentSetting", b =>
                {
                    b.Property<int>("SettingId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SettingId"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<byte>("FromMonth")
                        .HasColumnType("tinyint");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Note")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<byte>("ToMonth")
                        .HasColumnType("tinyint");

                    b.Property<decimal>("TotalAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.HasKey("SettingId")
                        .HasName("PK__SchoolPa__54372B1D10C021B2");

                    b.HasIndex("SchoolId");

                    b.ToTable("SchoolPaymentSettings", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.SchoolRevenue", b =>
                {
                    b.Property<long>("SchoolRevenueId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("SchoolRevenueId"));

                    b.Property<string>("ContractCode")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ContractFileUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ContractNote")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<decimal>("RevenueAmount")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<DateOnly>("RevenueDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("date")
                        .HasDefaultValueSql("(CONVERT([date],getdate()))");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("SchoolRevenueId")
                        .HasName("PK__SchoolRe__19A8292473B2508D");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex(new[] { "SchoolId", "RevenueDate" }, "IX_SchoolRevenues_SchoolDate");

                    b.ToTable("SchoolRevenues", "billing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.DailyMeal", b =>
                {
                    b.Property<int>("DailyMealId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("DailyMealId"));

                    b.Property<DateOnly>("MealDate")
                        .HasColumnType("date");

                    b.Property<string>("MealType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<long>("ScheduleMealId")
                        .HasColumnType("bigint");

                    b.HasKey("DailyMealId")
                        .HasName("PK__DailyMea__4325CAFBE92EE8C8");

                    b.HasIndex(new[] { "ScheduleMealId", "MealDate", "MealType" }, "UX_DailyMeals")
                        .IsUnique();

                    b.ToTable("DailyMeals", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.Feedback", b =>
                {
                    b.Property<int>("FeedbackId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("FeedbackId"));

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int?>("DailyMealId")
                        .HasColumnType("int");

                    b.Property<Guid>("SenderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("TargetRef")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("TargetType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("FeedbackId")
                        .HasName("PK__Feedback__6A4BEDD65FA0D847");

                    b.HasIndex("DailyMealId");

                    b.HasIndex("SenderId");

                    b.ToTable("Feedbacks", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.Menu", b =>
                {
                    b.Property<int>("MenuId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MenuId"));

                    b.Property<bool>("AskToDelete")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ConfirmedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("ConfirmedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<bool>("IsVisible")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("PublishedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<short?>("WeekNo")
                        .HasColumnType("smallint");

                    b.Property<int?>("YearId")
                        .HasColumnType("int");

                    b.HasKey("MenuId")
                        .HasName("PK__Menus__C99ED230D6EF5C89");

                    b.HasIndex("ConfirmedBy");

                    b.HasIndex("SchoolId");

                    b.HasIndex("YearId");

                    b.ToTable("Menus", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuDay", b =>
                {
                    b.Property<int>("MenuDayId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MenuDayId"));

                    b.Property<byte>("DayOfWeek")
                        .HasColumnType("tinyint");

                    b.Property<string>("MealType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int>("MenuId")
                        .HasColumnType("int");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.HasKey("MenuDayId")
                        .HasName("PK__MenuDays__48283E5406B2E20E");

                    b.HasIndex(new[] { "MenuId", "DayOfWeek", "MealType" }, "IX_MenuDays_Menu");

                    b.HasIndex(new[] { "MenuId", "DayOfWeek", "MealType" }, "UQ_MenuDays")
                        .IsUnique();

                    b.ToTable("MenuDays", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuDayFoodItem", b =>
                {
                    b.Property<int>("MenuDayId")
                        .HasColumnType("int");

                    b.Property<int>("FoodId")
                        .HasColumnType("int");

                    b.Property<int?>("SortOrder")
                        .HasColumnType("int");

                    b.HasKey("MenuDayId", "FoodId");

                    b.HasIndex("FoodId");

                    b.ToTable("MenuDayFoodItems", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuFoodItem", b =>
                {
                    b.Property<int>("DailyMealId")
                        .HasColumnType("int");

                    b.Property<int>("FoodId")
                        .HasColumnType("int");

                    b.Property<int?>("SortOrder")
                        .HasColumnType("int");

                    b.HasKey("DailyMealId", "FoodId");

                    b.HasIndex("FoodId");

                    b.ToTable("MenuFoodItems", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.ScheduleMeal", b =>
                {
                    b.Property<long>("ScheduleMealId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("ScheduleMealId"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("MenuId")
                        .HasColumnType("int");

                    b.Property<string>("Notes")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<DateTime?>("PublishedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Draft");

                    b.Property<DateOnly>("WeekEnd")
                        .HasColumnType("date");

                    b.Property<short>("WeekNo")
                        .HasColumnType("smallint");

                    b.Property<DateOnly>("WeekStart")
                        .HasColumnType("date");

                    b.Property<short>("YearNo")
                        .HasColumnType("smallint");

                    b.HasKey("ScheduleMealId")
                        .HasName("PK__Schedule__7F2713EEE217869A");

                    b.HasIndex("CreatedBy");

                    b.HasIndex(new[] { "MenuId" }, "IX_ScheduleMeal_Menu");

                    b.HasIndex(new[] { "SchoolId", "WeekStart", "WeekEnd" }, "IX_ScheduleMeal_SchoolWeek");

                    b.HasIndex(new[] { "SchoolId", "WeekNo", "YearNo" }, "UQ_ScheduleMeal_School_WeekNoYear")
                        .IsUnique();

                    b.HasIndex(new[] { "SchoolId", "WeekStart" }, "UQ_ScheduleMeal_School_WeekStart")
                        .IsUnique();

                    b.ToTable("ScheduleMeal", "foodmenu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.fridge.FoodInFridge", b =>
                {
                    b.Property<long>("SampleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("SampleId"));

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int?>("FoodId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int?>("MenuId")
                        .HasColumnType("int");

                    b.Property<string>("Note")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("StoredAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid>("StoredBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal?>("TemperatureC")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<int?>("YearId")
                        .HasColumnType("int");

                    b.HasKey("SampleId")
                        .HasName("PK__FoodInFr__8B99EC6A88A99F3A");

                    b.HasIndex("DeletedBy");

                    b.HasIndex("FoodId");

                    b.HasIndex("MenuId");

                    b.HasIndex("SchoolId");

                    b.HasIndex("StoredBy");

                    b.HasIndex("YearId");

                    b.ToTable("FoodInFridge", "fridge");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.inventory.InventoryItem", b =>
                {
                    b.Property<int>("ItemId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ItemId"));

                    b.Property<string>("BatchNo")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateOnly?>("ExpirationDate")
                        .HasColumnType("date");

                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<string>("ItemName")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<DateTime>("LastUpdated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("Origin")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<decimal>("QuantityGram")
                        .HasColumnType("decimal(12, 2)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("ItemId")
                        .HasName("PK__Inventor__727E838B486011F9");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("IngredientId");

                    b.HasIndex("SchoolId");

                    b.ToTable("InventoryItems", "inventory");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.inventory.InventoryTransaction", b =>
                {
                    b.Property<long>("TransId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("TransId"));

                    b.Property<int>("ItemId")
                        .HasColumnType("int");

                    b.Property<decimal>("QuantityGram")
                        .HasColumnType("decimal(12, 2)");

                    b.Property<string>("Reference")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("TransDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("TransType")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.HasKey("TransId")
                        .HasName("PK__Inventor__9E5DDB3CAD03F0B1");

                    b.HasIndex("ItemId");

                    b.ToTable("InventoryTransactions", "inventory");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Allergen", b =>
                {
                    b.Property<int>("AllergenId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AllergenId"));

                    b.Property<string>("AllergenInfo")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<string>("AllergenMatter")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("AllergenName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("AllergenId")
                        .HasName("PK__Allergen__158B939FC3B0D611");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SchoolId");

                    b.HasIndex(new[] { "AllergenName" }, "UQ__Allergen__7D9886190081153F")
                        .IsUnique();

                    b.ToTable("Allergens", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.AllergeticIngredient", b =>
                {
                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<int>("AllergenId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DiagnosedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("HandlingNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ReactionNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("ReportedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("SeverityLevel")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.HasKey("IngredientId", "AllergenId")
                        .HasName("PK__Allerget__5FF60B63B04CFBA0");

                    b.HasIndex("AllergenId");

                    b.ToTable("AllergeticIngredients", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.FoodItem", b =>
                {
                    b.Property<int>("FoodId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("FoodId"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("FoodDesc")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("FoodName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("FoodType")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsMainDish")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("FoodId")
                        .HasName("PK__FoodItem__856DB3EB611ACDEE");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SchoolId");

                    b.ToTable("FoodItems", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.FoodItemIngredient", b =>
                {
                    b.Property<int>("FoodId")
                        .HasColumnType("int");

                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<decimal>("QuantityGram")
                        .HasColumnType("decimal(9, 2)");

                    b.HasKey("FoodId", "IngredientId")
                        .HasName("PK__FoodItem__3E8758CE9383034F");

                    b.HasIndex("IngredientId");

                    b.ToTable("FoodItemIngredients", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Ingredient", b =>
                {
                    b.Property<int>("IngredientId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IngredientId"));

                    b.Property<decimal?>("CarbG")
                        .HasColumnType("decimal(7, 2)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal?>("EnergyKcal")
                        .HasColumnType("decimal(7, 2)");

                    b.Property<decimal?>("FatG")
                        .HasColumnType("decimal(7, 2)");

                    b.Property<string>("IngredientName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("IngredientType")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<decimal?>("ProteinG")
                        .HasColumnType("decimal(7, 2)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("IngredientId")
                        .HasName("PK__Ingredie__BEAEB25AF14E132E");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SchoolId");

                    b.ToTable("Ingredients", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.IngredientAlternative", b =>
                {
                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<int>("AltIngredientId")
                        .HasColumnType("int");

                    b.Property<decimal?>("ConfidenceScore")
                        .HasColumnType("decimal(4, 3)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ReasonCode")
                        .HasMaxLength(30)
                        .HasColumnType("nvarchar(30)");

                    b.Property<string>("SourceType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("IngredientId", "AltIngredientId")
                        .HasName("PK__Ingredie__790D4520C037718E");

                    b.HasIndex("AltIngredientId");

                    b.HasIndex("CreatedBy");

                    b.ToTable("IngredientAlternatives", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.StudentAllergen", b =>
                {
                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("AllergenId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DiagnosedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("HandlingNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ReactionNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("StudentId", "AllergenId")
                        .HasName("PK__StudentA__D39D92A0C877B8A0");

                    b.HasIndex("AllergenId");

                    b.ToTable("StudentAllergens", "nutrition");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchaseOrder", b =>
                {
                    b.Property<int>("OrderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("OrderId"));

                    b.Property<string>("Note")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("PlanId")
                        .HasColumnType("int");

                    b.Property<string>("PurchaseOrderStatus")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("StaffInCharged")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("SupplierName")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.HasKey("OrderId")
                        .HasName("PK__Purchase__C3905BCFDBD9BAF1");

                    b.HasIndex("PlanId");

                    b.HasIndex("SchoolId");

                    b.HasIndex("StaffInCharged");

                    b.ToTable("PurchaseOrders", "purchasing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchaseOrderLine", b =>
                {
                    b.Property<int>("LinesId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("LinesId"));

                    b.Property<string>("BatchNo")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateOnly?>("ExpiryDate")
                        .HasColumnType("date");

                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<int>("OrderId")
                        .HasColumnType("int");

                    b.Property<string>("Origin")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<decimal>("QuantityGram")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<decimal?>("UnitPrice")
                        .HasColumnType("decimal(18, 2)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("LinesId")
                        .HasName("PK__Purchase__728C596D29E416B9");

                    b.HasIndex("IngredientId");

                    b.HasIndex("OrderId");

                    b.HasIndex("UserId");

                    b.ToTable("PurchaseOrderLines", "purchasing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchasePlan", b =>
                {
                    b.Property<int>("PlanId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PlanId"));

                    b.Property<bool>("AskToDelete")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ConfirmedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("ConfirmedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("GeneratedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<int>("MenuId")
                        .HasColumnType("int");

                    b.Property<string>("PlanStatus")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<Guid>("StaffId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("PlanId")
                        .HasName("PK__Purchase__755C22B708449412");

                    b.HasIndex("ConfirmedBy");

                    b.HasIndex("MenuId");

                    b.HasIndex("StaffId");

                    b.ToTable("PurchasePlans", "purchasing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchasePlanLine", b =>
                {
                    b.Property<int>("PlanId")
                        .HasColumnType("int");

                    b.Property<int>("IngredientId")
                        .HasColumnType("int");

                    b.Property<decimal>("RqQuanityGram")
                        .HasColumnType("decimal(12, 2)");

                    b.HasKey("PlanId", "IngredientId")
                        .HasName("PK__Purchase__CEB6C9922FF780FB");

                    b.HasIndex("IngredientId");

                    b.ToTable("PurchasePlanLines", "purchasing");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.rag.MenuRecommendResult", b =>
                {
                    b.Property<long>("SessionId")
                        .HasColumnType("bigint");

                    b.Property<int>("FoodId")
                        .HasColumnType("int");

                    b.Property<bool>("IsMain")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ChosenAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsChosen")
                        .HasColumnType("bit");

                    b.Property<int>("RankShown")
                        .HasColumnType("int");

                    b.Property<double>("Score")
                        .HasColumnType("float");

                    b.HasKey("SessionId", "FoodId", "IsMain")
                        .HasName("PK__MenuReco__FCCDB5A8468F9A80");

                    b.HasIndex("FoodId");

                    b.ToTable("MenuRecommendResults", "rag");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.rag.MenuRecommendSession", b =>
                {
                    b.Property<long>("SessionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("SessionId"));

                    b.Property<int>("CandidateCount")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("ModelVersion")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("RequestJson")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("SessionId")
                        .HasName("PK__MenuReco__C9F49290D616D83C");

                    b.ToTable("MenuRecommendSessions", "rag");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.AcademicYear", b =>
                {
                    b.Property<int>("YearId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("YearId"));

                    b.Property<DateTime?>("BoardingEndDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("BoardingStartDate")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("YearName")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("YearId")
                        .HasName("PK__Academic__C33A18CDAE55CF4A");

                    b.HasIndex("SchoolId");

                    b.HasIndex(new[] { "YearName" }, "UQ__Academic__294C4DA99759272B")
                        .IsUnique();

                    b.ToTable("AcademicYears", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Attendance", b =>
                {
                    b.Property<int>("AttendanceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AttendanceId"));

                    b.Property<DateOnly>("AbsentDate")
                        .HasColumnType("date");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("NotifiedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Reason")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("AttendanceId")
                        .HasName("PK__Attendan__8B69261C251FB6CD");

                    b.HasIndex("NotifiedBy");

                    b.HasIndex("StudentId");

                    b.ToTable("Attendance", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Class", b =>
                {
                    b.Property<Guid>("ClassId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<string>("ClassName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("TeacherId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<int>("YearId")
                        .HasColumnType("int");

                    b.HasKey("ClassId")
                        .HasName("PK__Classes__CB1927C03085562A");

                    b.HasIndex("SchoolId");

                    b.HasIndex("YearId");

                    b.HasIndex(new[] { "TeacherId" }, "UQ__Classes__EDF259652891263B")
                        .IsUnique()
                        .HasFilter("[TeacherId] IS NOT NULL");

                    b.ToTable("Classes", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.School", b =>
                {
                    b.Property<Guid>("SchoolId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<string>("ContactEmail")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Hotline")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("SchoolAddress")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("SchoolName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("SchoolId")
                        .HasName("PK__Schools__3DA4675B9933A434");

                    b.ToTable("Schools", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StagingStudent", b =>
                {
                    b.Property<long>("StageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("StageId"));

                    b.Property<string>("ClassName")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateOnly>("DateOfBirth")
                        .HasColumnType("date");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("Gender")
                        .HasMaxLength(1)
                        .IsUnicode(false)
                        .HasColumnType("char(1)")
                        .IsFixedLength();

                    b.Property<Guid>("ImportBatchId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ParentEmail1")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("ParentEmail2")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("ParentRelation1")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ParentRelation2")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("Phone")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("RowErrors")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("RowStatus")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("StageId")
                        .HasName("PK__StagingS__03EB7AD8FF589359");

                    b.ToTable("StagingStudents", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Student", b =>
                {
                    b.Property<Guid>("StudentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<string>("AvatarUrl")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<DateOnly?>("DateOfBirth")
                        .HasColumnType("date");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("Gender")
                        .HasMaxLength(1)
                        .IsUnicode(false)
                        .HasColumnType("char(1)")
                        .IsFixedLength();

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid?>("ParentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("RelationName")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("StudentId")
                        .HasName("PK__Students__32C52B9905670856");

                    b.HasIndex("ParentId");

                    b.HasIndex("SchoolId");

                    b.ToTable("Students", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentClass", b =>
                {
                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ClassId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateOnly>("JoinedDate")
                        .HasColumnType("date");

                    b.Property<DateOnly?>("LeftDate")
                        .HasColumnType("date");

                    b.Property<bool>("RegistStatus")
                        .HasColumnType("bit");

                    b.HasKey("StudentId", "ClassId")
                        .HasName("PK__StudentC__2E74B9E56CCB357A");

                    b.HasIndex("ClassId");

                    b.ToTable("StudentClasses", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentHealthRecord", b =>
                {
                    b.Property<Guid>("RecordId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<decimal?>("HeightCm")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<DateOnly>("RecordAt")
                        .HasColumnType("date");

                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal?>("WeightKg")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<int?>("YearId")
                        .HasColumnType("int");

                    b.HasKey("RecordId")
                        .HasName("PK__StudentH__FBDF78E96508BFEE");

                    b.HasIndex("StudentId");

                    b.HasIndex("YearId");

                    b.ToTable("StudentHealthRecords", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentImage", b =>
                {
                    b.Property<Guid>("ImageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier")
                        .HasDefaultValueSql("(newid())");

                    b.Property<string>("Caption")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(sysdatetime())");

                    b.Property<string>("ImageUrl")
                        .IsRequired()
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<Guid>("StudentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("TakenAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UploadedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int?>("YearId")
                        .HasColumnType("int");

                    b.HasKey("ImageId")
                        .HasName("PK__StudentI__7516F70C6F0FC553");

                    b.HasIndex("StudentId");

                    b.HasIndex("UploadedBy");

                    b.HasIndex("YearId");

                    b.ToTable("StudentImages", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentImageTag", b =>
                {
                    b.Property<Guid>("ImageId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("TagId")
                        .HasColumnType("int");

                    b.Property<bool>("IsFavourite")
                        .HasColumnType("bit");

                    b.Property<string>("TagNotes")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.HasKey("ImageId", "TagId")
                        .HasName("PK__StudentI__A3413896B077628A");

                    b.HasIndex("TagId");

                    b.ToTable("StudentImageTags", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Tag", b =>
                {
                    b.Property<int>("TagId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TagId"));

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("SchoolId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("TagName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("TagId")
                        .HasName("PK__Tags__657CF9AC5250A64D");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SchoolId");

                    b.HasIndex(new[] { "TagName" }, "UQ__Tags__BDE0FD1D1C99F83F")
                        .IsUnique();

                    b.ToTable("Tags", "school");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Teacher", b =>
                {
                    b.Property<Guid>("TeacherId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("EmployeeCode")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateOnly?>("HiredDate")
                        .HasColumnType("date");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.HasKey("TeacherId")
                        .HasName("PK__Teachers__EDF25964BF9BB93F");

                    b.HasIndex(new[] { "EmployeeCode" }, "UQ__Teachers__1F6425484B87CBAA")
                        .IsUnique()
                        .HasFilter("[EmployeeCode] IS NOT NULL");

                    b.ToTable("Teachers", "school");
                });

            modelBuilder.Entity("IngredientInFridge", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", null)
                        .WithMany()
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK_FIFI_Ingredient");

                    b.HasOne("SMMS.Domain.Entities.fridge.FoodInFridge", null)
                        .WithMany()
                        .HasForeignKey("SampleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_FIFI_Sample");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.Logs.AuditLog", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "User")
                        .WithMany("AuditLogs")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK_AuditLogs_User");

                    b.Navigation("User");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.RefreshToken", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.RefreshToken", "ReplacedBy")
                        .WithMany("InverseReplacedBy")
                        .HasForeignKey("ReplacedById")
                        .HasConstraintName("FK__RefreshTo__Repla__5070F446");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "User")
                        .WithMany("RefreshTokens")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__RefreshTo__UserI__4F7CD00D");

                    b.Navigation("ReplacedBy");

                    b.Navigation("User");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.User", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.Role", "Role")
                        .WithMany("Users")
                        .HasForeignKey("RoleId")
                        .IsRequired()
                        .HasConstraintName("FK__Users__RoleId__4AB81AF0");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Users")
                        .HasForeignKey("SchoolId")
                        .HasConstraintName("FK_Users_School");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "UpdatedByNavigation")
                        .WithMany("InverseUpdatedByNavigation")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK_Users_UpdBy");

                    b.Navigation("Role");

                    b.Navigation("School");

                    b.Navigation("UpdatedByNavigation");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.UserExternalLogin", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.ExternalProvider", "Provider")
                        .WithMany("UserExternalLogins")
                        .HasForeignKey("ProviderId")
                        .IsRequired()
                        .HasConstraintName("FK__UserExter__Provi__5AEE82B9");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "User")
                        .WithMany("UserExternalLogins")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__UserExter__UserI__59FA5E80");

                    b.Navigation("Provider");

                    b.Navigation("User");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Invoice", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("Invoices")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__Invoices__Studen__74794A92");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Notification", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "Sender")
                        .WithMany("Notifications")
                        .HasForeignKey("SenderId")
                        .HasConstraintName("FK__notificat__Sende__00DF2177");

                    b.Navigation("Sender");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.NotificationRecipient", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.billing.Notification", "Notification")
                        .WithMany("NotificationRecipients")
                        .HasForeignKey("NotificationId")
                        .IsRequired()
                        .HasConstraintName("FK__Notificat__Notif__04AFB25B");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "User")
                        .WithMany("NotificationRecipients")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__Notificat__UserI__05A3D694");

                    b.Navigation("Notification");

                    b.Navigation("User");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Payment", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.billing.Invoice", "Invoice")
                        .WithMany("Payments")
                        .HasForeignKey("InvoiceId")
                        .IsRequired()
                        .HasConstraintName("FK__Payments__Invoic__7C1A6C5A");

                    b.Navigation("Invoice");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.SchoolPaymentSetting", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("SchoolPaymentSettings")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_SPS_School");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.SchoolRevenue", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("SchoolRevenueCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_SchoolRevenues_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("SchoolRevenues")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_SchoolRevenues_School");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "UpdatedByNavigation")
                        .WithMany("SchoolRevenueUpdatedByNavigations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK_SchoolRevenues_UpdatedBy");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("School");

                    b.Navigation("UpdatedByNavigation");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.DailyMeal", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.foodmenu.ScheduleMeal", "ScheduleMeal")
                        .WithMany("DailyMeals")
                        .HasForeignKey("ScheduleMealId")
                        .IsRequired()
                        .HasConstraintName("FK_DailyMeals_Schedule");

                    b.Navigation("ScheduleMeal");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.Feedback", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.foodmenu.DailyMeal", "DailyMeal")
                        .WithMany("Feedbacks")
                        .HasForeignKey("DailyMealId")
                        .HasConstraintName("FK_Feedbacks_DailyMeal");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "Sender")
                        .WithMany("Feedbacks")
                        .HasForeignKey("SenderId")
                        .IsRequired()
                        .HasConstraintName("FK__Feedbacks__Sende__57DD0BE4");

                    b.Navigation("DailyMeal");

                    b.Navigation("Sender");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.Menu", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "ConfirmedByNavigation")
                        .WithMany("Menus")
                        .HasForeignKey("ConfirmedBy")
                        .HasConstraintName("FK_Menus_Confirm");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Menus")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_Menus_School");

                    b.HasOne("SMMS.Domain.Entities.school.AcademicYear", "Year")
                        .WithMany("Menus")
                        .HasForeignKey("YearId")
                        .HasConstraintName("FK_Menus_Year");

                    b.Navigation("ConfirmedByNavigation");

                    b.Navigation("School");

                    b.Navigation("Year");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuDay", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.foodmenu.Menu", "Menu")
                        .WithMany("MenuDays")
                        .HasForeignKey("MenuId")
                        .IsRequired()
                        .HasConstraintName("FK_MenuDays_Menus");

                    b.Navigation("Menu");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuDayFoodItem", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.FoodItem", "Food")
                        .WithMany("MenuDayFoodItems")
                        .HasForeignKey("FoodId")
                        .IsRequired()
                        .HasConstraintName("FK_MenuDayFoodItems_Food");

                    b.HasOne("SMMS.Domain.Entities.foodmenu.MenuDay", "MenuDay")
                        .WithMany("MenuDayFoodItems")
                        .HasForeignKey("MenuDayId")
                        .IsRequired()
                        .HasConstraintName("FK_MenuDayFoodItems_MenuDay");

                    b.Navigation("Food");

                    b.Navigation("MenuDay");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuFoodItem", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.foodmenu.DailyMeal", "DailyMeal")
                        .WithMany("MenuFoodItems")
                        .HasForeignKey("DailyMealId")
                        .IsRequired()
                        .HasConstraintName("FK_MenuFoodItems_DailyMeals");

                    b.HasOne("SMMS.Domain.Entities.nutrition.FoodItem", "Food")
                        .WithMany("MenuFoodItems")
                        .HasForeignKey("FoodId")
                        .IsRequired()
                        .HasConstraintName("FK_MenuFoodItems_FoodItems");

                    b.Navigation("DailyMeal");

                    b.Navigation("Food");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.ScheduleMeal", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("ScheduleMeals")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_ScheduleMeal_User");

                    b.HasOne("SMMS.Domain.Entities.foodmenu.Menu", "Menu")
                        .WithMany("ScheduleMeals")
                        .HasForeignKey("MenuId")
                        .IsRequired()
                        .HasConstraintName("FK_ScheduleMeal_Menu");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("ScheduleMeals")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_ScheduleMeal_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Menu");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.fridge.FoodInFridge", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "DeletedByNavigation")
                        .WithMany("FoodInFridgeDeletedByNavigations")
                        .HasForeignKey("DeletedBy")
                        .HasConstraintName("FK_FIF_DeletedBy");

                    b.HasOne("SMMS.Domain.Entities.nutrition.FoodItem", "Food")
                        .WithMany("FoodInFridges")
                        .HasForeignKey("FoodId")
                        .HasConstraintName("FK_FIF_Food");

                    b.HasOne("SMMS.Domain.Entities.foodmenu.Menu", "Menu")
                        .WithMany("FoodInFridges")
                        .HasForeignKey("MenuId")
                        .HasConstraintName("FK_FIF_Menu");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("FoodInFridges")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_FIF_School");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "StoredByNavigation")
                        .WithMany("FoodInFridgeStoredByNavigations")
                        .HasForeignKey("StoredBy")
                        .IsRequired()
                        .HasConstraintName("FK_FIF_StoredBy");

                    b.HasOne("SMMS.Domain.Entities.school.AcademicYear", "Year")
                        .WithMany("FoodInFridges")
                        .HasForeignKey("YearId")
                        .HasConstraintName("FK_FIF_Year");

                    b.Navigation("DeletedByNavigation");

                    b.Navigation("Food");

                    b.Navigation("Menu");

                    b.Navigation("School");

                    b.Navigation("StoredByNavigation");

                    b.Navigation("Year");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.inventory.InventoryItem", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("InventoryItems")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_InventoryItems_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("InventoryItems")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__Inventory__Ingre__5E8A0973");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("InventoryItems")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_InventoryItems_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Ingredient");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.inventory.InventoryTransaction", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.inventory.InventoryItem", "Item")
                        .WithMany("InventoryTransactions")
                        .HasForeignKey("ItemId")
                        .IsRequired()
                        .HasConstraintName("FK__Inventory__ItemI__6442E2C9");

                    b.Navigation("Item");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Allergen", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("Allergens")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_Allergens_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Allergens")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_Allergens_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.AllergeticIngredient", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Allergen", "Allergen")
                        .WithMany("AllergeticIngredients")
                        .HasForeignKey("AllergenId")
                        .IsRequired()
                        .HasConstraintName("FK__Allergeti__Aller__245D67DE");

                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("AllergeticIngredients")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__Allergeti__Ingre__236943A5");

                    b.Navigation("Allergen");

                    b.Navigation("Ingredient");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.FoodItem", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("FoodItems")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_FoodItems_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("FoodItems")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_FoodItems_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.FoodItemIngredient", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.FoodItem", "Food")
                        .WithMany("FoodItemIngredients")
                        .HasForeignKey("FoodId")
                        .IsRequired()
                        .HasConstraintName("FK__FoodItemI__FoodI__2DE6D218");

                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("FoodItemIngredients")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__FoodItemI__Ingre__2EDAF651");

                    b.Navigation("Food");

                    b.Navigation("Ingredient");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Ingredient", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("Ingredients")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_Ingredients_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Ingredients")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_Ingredients_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.IngredientAlternative", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "AltIngredient")
                        .WithMany("IngredientAlternativeAltIngredients")
                        .HasForeignKey("AltIngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__Ingredien__AltIn__1A9EF37A");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("IngredientAlternatives")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Ingredien__Creat__1B9317B3");

                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("IngredientAlternativeIngredients")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__Ingredien__Ingre__19AACF41");

                    b.Navigation("AltIngredient");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Ingredient");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.StudentAllergen", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Allergen", "Allergen")
                        .WithMany("StudentAllergens")
                        .HasForeignKey("AllergenId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentAl__Aller__32AB8735");

                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("StudentAllergens")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentAl__Stude__31B762FC");

                    b.Navigation("Allergen");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchaseOrder", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.purchasing.PurchasePlan", "Plan")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("PlanId")
                        .HasConstraintName("FK_PurchaseOrders_Plans");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseOrders_Schools");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "StaffInChargedNavigation")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("StaffInCharged")
                        .HasConstraintName("FK_PurchaseOrders_Users");

                    b.Navigation("Plan");

                    b.Navigation("School");

                    b.Navigation("StaffInChargedNavigation");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchaseOrderLine", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("PurchaseOrderLines")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseOrderLines_Ingredients");

                    b.HasOne("SMMS.Domain.Entities.purchasing.PurchaseOrder", "Order")
                        .WithMany("PurchaseOrderLines")
                        .HasForeignKey("OrderId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseOrderLines_Orders");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "User")
                        .WithMany("PurchaseOrderLines")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchaseOrderLines_Users");

                    b.Navigation("Ingredient");

                    b.Navigation("Order");

                    b.Navigation("User");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchasePlan", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "ConfirmedByNavigation")
                        .WithMany("PurchasePlanConfirmedByNavigations")
                        .HasForeignKey("ConfirmedBy")
                        .HasConstraintName("FK_PurchasePlans_ConfirmedBy");

                    b.HasOne("SMMS.Domain.Entities.foodmenu.Menu", "Menu")
                        .WithMany("PurchasePlans")
                        .HasForeignKey("MenuId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchasePlans_Menus");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "Staff")
                        .WithMany("PurchasePlanStaffs")
                        .HasForeignKey("StaffId")
                        .IsRequired()
                        .HasConstraintName("FK_PurchasePlans_Staff");

                    b.Navigation("ConfirmedByNavigation");

                    b.Navigation("Menu");

                    b.Navigation("Staff");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchasePlanLine", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.Ingredient", "Ingredient")
                        .WithMany("PurchasePlanLines")
                        .HasForeignKey("IngredientId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseP__Ingre__6FB49575");

                    b.HasOne("SMMS.Domain.Entities.purchasing.PurchasePlan", "Plan")
                        .WithMany("PurchasePlanLines")
                        .HasForeignKey("PlanId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseP__PlanI__6EC0713C");

                    b.Navigation("Ingredient");

                    b.Navigation("Plan");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.rag.MenuRecommendResult", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.nutrition.FoodItem", "Food")
                        .WithMany("MenuRecommendResults")
                        .HasForeignKey("FoodId")
                        .IsRequired()
                        .HasConstraintName("FK__MenuRecom__FoodI__308E3499");

                    b.HasOne("SMMS.Domain.Entities.rag.MenuRecommendSession", "Session")
                        .WithMany("MenuRecommendResults")
                        .HasForeignKey("SessionId")
                        .IsRequired()
                        .HasConstraintName("FK__MenuRecom__Sessi__2F9A1060");

                    b.Navigation("Food");

                    b.Navigation("Session");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.AcademicYear", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("AcademicYears")
                        .HasForeignKey("SchoolId")
                        .HasConstraintName("FK_AcademicYears_School");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Attendance", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "NotifiedByNavigation")
                        .WithMany("Attendances")
                        .HasForeignKey("NotifiedBy")
                        .HasConstraintName("FK__Attendanc__Notif__0A688BB1");

                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("Attendances")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__Attendanc__Stude__09746778");

                    b.Navigation("NotifiedByNavigation");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Class", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Classes")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK__Classes__SchoolI__6E01572D");

                    b.HasOne("SMMS.Domain.Entities.school.Teacher", "Teacher")
                        .WithOne("Class")
                        .HasForeignKey("SMMS.Domain.Entities.school.Class", "TeacherId")
                        .HasConstraintName("FK__Classes__Teacher__6FE99F9F");

                    b.HasOne("SMMS.Domain.Entities.school.AcademicYear", "Year")
                        .WithMany("Classes")
                        .HasForeignKey("YearId")
                        .IsRequired()
                        .HasConstraintName("FK__Classes__YearId__6EF57B66");

                    b.Navigation("School");

                    b.Navigation("Teacher");

                    b.Navigation("Year");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Student", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "Parent")
                        .WithMany("Students")
                        .HasForeignKey("ParentId")
                        .HasConstraintName("FK_Students_Parent");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Students")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK__Students__School__76969D2E");

                    b.Navigation("Parent");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentClass", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.Class", "Class")
                        .WithMany("StudentClasses")
                        .HasForeignKey("ClassId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentCl__Class__7F2BE32F");

                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("StudentClasses")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentCl__Stude__7E37BEF6");

                    b.Navigation("Class");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentHealthRecord", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("StudentHealthRecords")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentHe__Stude__02FC7413");

                    b.HasOne("SMMS.Domain.Entities.school.AcademicYear", "Year")
                        .WithMany("StudentHealthRecords")
                        .HasForeignKey("YearId")
                        .HasConstraintName("FK_StudentHealthRecords_Year");

                    b.Navigation("Student");

                    b.Navigation("Year");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentImage", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.Student", "Student")
                        .WithMany("StudentImages")
                        .HasForeignKey("StudentId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentIm__Stude__08B54D69");

                    b.HasOne("SMMS.Domain.Entities.auth.User", "UploadedByNavigation")
                        .WithMany("StudentImages")
                        .HasForeignKey("UploadedBy")
                        .HasConstraintName("FK__StudentIm__Uploa__09A971A2");

                    b.HasOne("SMMS.Domain.Entities.school.AcademicYear", "Year")
                        .WithMany("StudentImages")
                        .HasForeignKey("YearId")
                        .HasConstraintName("FK_StudentImages_Year");

                    b.Navigation("Student");

                    b.Navigation("UploadedByNavigation");

                    b.Navigation("Year");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentImageTag", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.school.StudentImage", "Image")
                        .WithMany("StudentImageTags")
                        .HasForeignKey("ImageId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentIm__Image__1332DBDC");

                    b.HasOne("SMMS.Domain.Entities.school.Tag", "Tag")
                        .WithMany("StudentImageTags")
                        .HasForeignKey("TagId")
                        .IsRequired()
                        .HasConstraintName("FK__StudentIm__TagId__14270015");

                    b.Navigation("Image");

                    b.Navigation("Tag");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Tag", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "CreatedByNavigation")
                        .WithMany("Tags")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK_Tags_CreatedBy");

                    b.HasOne("SMMS.Domain.Entities.school.School", "School")
                        .WithMany("Tags")
                        .HasForeignKey("SchoolId")
                        .IsRequired()
                        .HasConstraintName("FK_Tags_School");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("School");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Teacher", b =>
                {
                    b.HasOne("SMMS.Domain.Entities.auth.User", "TeacherNavigation")
                        .WithOne("Teacher")
                        .HasForeignKey("SMMS.Domain.Entities.school.Teacher", "TeacherId")
                        .IsRequired()
                        .HasConstraintName("FK__Teachers__Teache__6754599E");

                    b.Navigation("TeacherNavigation");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.ExternalProvider", b =>
                {
                    b.Navigation("UserExternalLogins");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.RefreshToken", b =>
                {
                    b.Navigation("InverseReplacedBy");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.Role", b =>
                {
                    b.Navigation("Users");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.auth.User", b =>
                {
                    b.Navigation("Allergens");

                    b.Navigation("Attendances");

                    b.Navigation("AuditLogs");

                    b.Navigation("Feedbacks");

                    b.Navigation("FoodInFridgeDeletedByNavigations");

                    b.Navigation("FoodInFridgeStoredByNavigations");

                    b.Navigation("FoodItems");

                    b.Navigation("IngredientAlternatives");

                    b.Navigation("Ingredients");

                    b.Navigation("InventoryItems");

                    b.Navigation("InverseUpdatedByNavigation");

                    b.Navigation("Menus");

                    b.Navigation("NotificationRecipients");

                    b.Navigation("Notifications");

                    b.Navigation("PurchaseOrderLines");

                    b.Navigation("PurchaseOrders");

                    b.Navigation("PurchasePlanConfirmedByNavigations");

                    b.Navigation("PurchasePlanStaffs");

                    b.Navigation("RefreshTokens");

                    b.Navigation("ScheduleMeals");

                    b.Navigation("SchoolRevenueCreatedByNavigations");

                    b.Navigation("SchoolRevenueUpdatedByNavigations");

                    b.Navigation("StudentImages");

                    b.Navigation("Students");

                    b.Navigation("Tags");

                    b.Navigation("Teacher");

                    b.Navigation("UserExternalLogins");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Invoice", b =>
                {
                    b.Navigation("Payments");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.billing.Notification", b =>
                {
                    b.Navigation("NotificationRecipients");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.DailyMeal", b =>
                {
                    b.Navigation("Feedbacks");

                    b.Navigation("MenuFoodItems");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.Menu", b =>
                {
                    b.Navigation("FoodInFridges");

                    b.Navigation("MenuDays");

                    b.Navigation("PurchasePlans");

                    b.Navigation("ScheduleMeals");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.MenuDay", b =>
                {
                    b.Navigation("MenuDayFoodItems");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.foodmenu.ScheduleMeal", b =>
                {
                    b.Navigation("DailyMeals");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.inventory.InventoryItem", b =>
                {
                    b.Navigation("InventoryTransactions");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Allergen", b =>
                {
                    b.Navigation("AllergeticIngredients");

                    b.Navigation("StudentAllergens");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.FoodItem", b =>
                {
                    b.Navigation("FoodInFridges");

                    b.Navigation("FoodItemIngredients");

                    b.Navigation("MenuDayFoodItems");

                    b.Navigation("MenuFoodItems");

                    b.Navigation("MenuRecommendResults");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.nutrition.Ingredient", b =>
                {
                    b.Navigation("AllergeticIngredients");

                    b.Navigation("FoodItemIngredients");

                    b.Navigation("IngredientAlternativeAltIngredients");

                    b.Navigation("IngredientAlternativeIngredients");

                    b.Navigation("InventoryItems");

                    b.Navigation("PurchaseOrderLines");

                    b.Navigation("PurchasePlanLines");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchaseOrder", b =>
                {
                    b.Navigation("PurchaseOrderLines");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.purchasing.PurchasePlan", b =>
                {
                    b.Navigation("PurchaseOrders");

                    b.Navigation("PurchasePlanLines");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.rag.MenuRecommendSession", b =>
                {
                    b.Navigation("MenuRecommendResults");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.AcademicYear", b =>
                {
                    b.Navigation("Classes");

                    b.Navigation("FoodInFridges");

                    b.Navigation("Menus");

                    b.Navigation("StudentHealthRecords");

                    b.Navigation("StudentImages");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Class", b =>
                {
                    b.Navigation("StudentClasses");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.School", b =>
                {
                    b.Navigation("AcademicYears");

                    b.Navigation("Allergens");

                    b.Navigation("Classes");

                    b.Navigation("FoodInFridges");

                    b.Navigation("FoodItems");

                    b.Navigation("Ingredients");

                    b.Navigation("InventoryItems");

                    b.Navigation("Menus");

                    b.Navigation("PurchaseOrders");

                    b.Navigation("ScheduleMeals");

                    b.Navigation("SchoolPaymentSettings");

                    b.Navigation("SchoolRevenues");

                    b.Navigation("Students");

                    b.Navigation("Tags");

                    b.Navigation("Users");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Student", b =>
                {
                    b.Navigation("Attendances");

                    b.Navigation("Invoices");

                    b.Navigation("StudentAllergens");

                    b.Navigation("StudentClasses");

                    b.Navigation("StudentHealthRecords");

                    b.Navigation("StudentImages");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.StudentImage", b =>
                {
                    b.Navigation("StudentImageTags");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Tag", b =>
                {
                    b.Navigation("StudentImageTags");
                });

            modelBuilder.Entity("SMMS.Domain.Entities.school.Teacher", b =>
                {
                    b.Navigation("Class");
                });
#pragma warning restore 612, 618
        }
    }
}
